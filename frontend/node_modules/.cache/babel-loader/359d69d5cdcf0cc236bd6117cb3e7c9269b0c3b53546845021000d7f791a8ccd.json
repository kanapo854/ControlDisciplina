{"ast":null,"code":"var _jsxFileName = \"D:\\\\Proyectos\\\\ControlDisciplina\\\\frontend\\\\src\\\\components\\\\FamilyLinksManager.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\nimport { studentService, userService } from '../services/api';\nimport LoadingSpinner from './LoadingSpinner';\nimport Toast from './Toast';\nimport { UserGroupIcon, LinkIcon, XMarkIcon, PlusIcon, MagnifyingGlassIcon } from '@heroicons/react/24/outline';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FamilyLinksManager = () => {\n  _s();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedStudent, setSelectedStudent] = useState(null);\n  const [selectedParent, setSelectedParent] = useState(null);\n  const [showLinkForm, setShowLinkForm] = useState(false);\n  const [toast, setToast] = useState({\n    show: false,\n    type: 'success',\n    title: '',\n    message: ''\n  });\n  const queryClient = useQueryClient();\n\n  // Obtener todos los estudiantes\n  const {\n    data: studentsData,\n    isLoading: loadingStudents\n  } = useQuery('students-all', () => studentService.getStudents({\n    limit: 1000\n  }));\n\n  // Obtener usuarios con rol de padre de familia\n  const {\n    data: parentsData,\n    isLoading: loadingParents\n  } = useQuery('parents', () => userService.getUsers({\n    role: 'padrefamilia',\n    limit: 1000\n  }));\n\n  // Mutación para vincular padre con estudiante\n  const linkMutation = useMutation(({\n    studentId,\n    parentUserId\n  }) => studentService.linkParentToStudent(studentId, parentUserId), {\n    onSuccess: () => {\n      queryClient.invalidateQueries('students-all');\n      setShowLinkForm(false);\n      setSelectedStudent(null);\n      setSelectedParent(null);\n      setToast({\n        show: true,\n        type: 'success',\n        title: 'Vinculación exitosa',\n        message: 'El padre ha sido vinculado al estudiante correctamente'\n      });\n    },\n    onError: error => {\n      var _error$response, _error$response$data;\n      setToast({\n        show: true,\n        type: 'error',\n        title: 'Error al vincular',\n        message: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'No se pudo realizar la vinculación'\n      });\n    }\n  });\n\n  // Mutación para desvincular padre de estudiante\n  const unlinkMutation = useMutation(studentId => studentService.unlinkParentFromStudent(studentId), {\n    onSuccess: () => {\n      queryClient.invalidateQueries('students-all');\n      setToast({\n        show: true,\n        type: 'success',\n        title: 'Desvinculación exitosa',\n        message: 'El padre ha sido desvinculado del estudiante'\n      });\n    },\n    onError: error => {\n      var _error$response2, _error$response2$data;\n      setToast({\n        show: true,\n        type: 'error',\n        title: 'Error al desvincular',\n        message: ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || 'No se pudo realizar la desvinculación'\n      });\n    }\n  });\n  const students = (studentsData === null || studentsData === void 0 ? void 0 : studentsData.data) || [];\n  const parents = (parentsData === null || parentsData === void 0 ? void 0 : parentsData.data) || [];\n\n  // Filtrar estudiantes según búsqueda\n  const filteredStudents = students.filter(student => `${student.firstName} ${student.lastName}`.toLowerCase().includes(searchTerm.toLowerCase()) || student.documentNumber.includes(searchTerm));\n  const handleLink = () => {\n    if (selectedStudent && selectedParent) {\n      linkMutation.mutate({\n        studentId: selectedStudent.id,\n        parentUserId: selectedParent.id\n      });\n    }\n  };\n  const handleUnlink = studentId => {\n    if (window.confirm('¿Está seguro de que desea desvincular este padre del estudiante?')) {\n      unlinkMutation.mutate(studentId);\n    }\n  };\n  if (loadingStudents || loadingParents) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-r from-indigo-600 to-purple-600 shadow rounded-lg p-6 text-white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white bg-opacity-20 p-3 rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(UserGroupIcon, {\n            className: \"h-8 w-8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold\",\n            children: \"Gesti\\xF3n de Relaciones Familiares\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-indigo-100\",\n            children: \"Vincular padres de familia con sus hijos estudiantes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-shrink-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(UserGroupIcon, {\n                className: \"h-5 w-5 text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-gray-600\",\n              children: \"Total Estudiantes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-semibold text-gray-900\",\n              children: students.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-shrink-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(LinkIcon, {\n                className: \"h-5 w-5 text-green-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-gray-600\",\n              children: \"Vinculados\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-semibold text-gray-900\",\n              children: students.filter(s => s.parentUserId).length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-shrink-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(UserGroupIcon, {\n                className: \"h-5 w-5 text-purple-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-gray-600\",\n              children: \"Padres Registrados\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-semibold text-gray-900\",\n              children: parents.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow rounded-lg p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",\n            children: /*#__PURE__*/_jsxDEV(MagnifyingGlassIcon, {\n              className: \"h-5 w-5 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Buscar estudiante por nombre o documento...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            className: \"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowLinkForm(true),\n          className: \"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",\n          children: [/*#__PURE__*/_jsxDEV(PlusIcon, {\n            className: \"h-4 w-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), \"Nueva Vinculaci\\xF3n\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow rounded-lg overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 py-4 border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900\",\n          children: \"Estudiantes y sus Vinculaciones\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full divide-y divide-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Estudiante\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Curso\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Padre Vinculado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Estado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Acciones\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white divide-y divide-gray-200\",\n            children: filteredStudents.map(student => {\n              var _student$course;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"hover:bg-gray-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm font-medium text-gray-900\",\n                      children: [student.firstName, \" \", student.lastName]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 235,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-500\",\n                      children: [student.documentType, \": \", student.documentNumber]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 234,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: ((_student$course = student.course) === null || _student$course === void 0 ? void 0 : _student$course.name) || 'Sin curso asignado'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: student.parentUser ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm font-medium text-gray-900\",\n                      children: student.parentUser.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 249,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-500\",\n                      children: student.parentUser.email\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 252,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-gray-400\",\n                    children: \"Sin vinculaci\\xF3n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: student.parentUserId ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\",\n                    children: [/*#__PURE__*/_jsxDEV(LinkIcon, {\n                      className: \"h-3 w-3 mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 263,\n                      columnNumber: 25\n                    }, this), \"Vinculado\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800\",\n                    children: \"Sin vincular\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",\n                  children: student.parentUserId ? /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleUnlink(student.id),\n                    className: \"text-red-600 hover:text-red-900\",\n                    children: /*#__PURE__*/_jsxDEV(XMarkIcon, {\n                      className: \"h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 274,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      setSelectedStudent(student);\n                      setShowLinkForm(true);\n                    },\n                    className: \"text-indigo-600 hover:text-indigo-900\",\n                    children: /*#__PURE__*/_jsxDEV(LinkIcon, {\n                      className: \"h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 288,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 19\n                }, this)]\n              }, student.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 17\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this), showLinkForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900\",\n              children: \"Nueva Vinculaci\\xF3n Familiar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowLinkForm(false);\n                setSelectedStudent(null);\n                setSelectedParent(null);\n              },\n              className: \"text-gray-400 hover:text-gray-600\",\n              children: /*#__PURE__*/_jsxDEV(XMarkIcon, {\n                className: \"h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Estudiante\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: (selectedStudent === null || selectedStudent === void 0 ? void 0 : selectedStudent.id) || '',\n                onChange: e => {\n                  const student = students.find(s => s.id === e.target.value);\n                  setSelectedStudent(student);\n                },\n                className: \"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Seleccionar estudiante\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 21\n                }, this), students.filter(s => !s.parentUserId).map(student => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: student.id,\n                  children: [student.firstName, \" \", student.lastName, \" - \", student.documentNumber]\n                }, student.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Padre de Familia\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: (selectedParent === null || selectedParent === void 0 ? void 0 : selectedParent.id) || '',\n                onChange: e => {\n                  const parent = parents.find(p => p.id === e.target.value);\n                  setSelectedParent(parent);\n                },\n                className: \"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Seleccionar padre\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 21\n                }, this), parents.map(parent => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: parent.id,\n                  children: [parent.name, \" - \", parent.email]\n                }, parent.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end space-x-3 mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowLinkForm(false);\n                setSelectedStudent(null);\n                setSelectedParent(null);\n              },\n              className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200\",\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleLink,\n              disabled: !selectedStudent || !selectedParent || linkMutation.isLoading,\n              className: \"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed\",\n              children: linkMutation.isLoading ? 'Vinculando...' : 'Vincular'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 9\n    }, this), toast.show && /*#__PURE__*/_jsxDEV(Toast, {\n      type: toast.type,\n      title: toast.title,\n      message: toast.message,\n      onClose: () => setToast({\n        ...toast,\n        show: false\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n};\n_s(FamilyLinksManager, \"7mm3I7P30YSnUzfChvMyD2zWx4U=\", false, function () {\n  return [useQueryClient, useQuery, useQuery, useMutation, useMutation];\n});\n_c = FamilyLinksManager;\nexport default FamilyLinksManager;\nvar _c;\n$RefreshReg$(_c, \"FamilyLinksManager\");","map":{"version":3,"names":["React","useState","useEffect","useQuery","useMutation","useQueryClient","studentService","userService","LoadingSpinner","Toast","UserGroupIcon","LinkIcon","XMarkIcon","PlusIcon","MagnifyingGlassIcon","jsxDEV","_jsxDEV","FamilyLinksManager","_s","searchTerm","setSearchTerm","selectedStudent","setSelectedStudent","selectedParent","setSelectedParent","showLinkForm","setShowLinkForm","toast","setToast","show","type","title","message","queryClient","data","studentsData","isLoading","loadingStudents","getStudents","limit","parentsData","loadingParents","getUsers","role","linkMutation","studentId","parentUserId","linkParentToStudent","onSuccess","invalidateQueries","onError","error","_error$response","_error$response$data","response","unlinkMutation","unlinkParentFromStudent","_error$response2","_error$response2$data","students","parents","filteredStudents","filter","student","firstName","lastName","toLowerCase","includes","documentNumber","handleLink","mutate","id","handleUnlink","window","confirm","fileName","_jsxFileName","lineNumber","columnNumber","className","children","length","s","placeholder","value","onChange","e","target","onClick","map","_student$course","documentType","course","name","parentUser","email","find","parent","p","disabled","onClose","_c","$RefreshReg$"],"sources":["D:/Proyectos/ControlDisciplina/frontend/src/components/FamilyLinksManager.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\r\nimport { studentService, userService } from '../services/api';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport Toast from './Toast';\r\nimport {\r\n  UserGroupIcon,\r\n  LinkIcon,\r\n  XMarkIcon,\r\n  PlusIcon,\r\n  MagnifyingGlassIcon\r\n} from '@heroicons/react/24/outline';\r\n\r\nconst FamilyLinksManager = () => {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedStudent, setSelectedStudent] = useState(null);\r\n  const [selectedParent, setSelectedParent] = useState(null);\r\n  const [showLinkForm, setShowLinkForm] = useState(false);\r\n  const [toast, setToast] = useState({ show: false, type: 'success', title: '', message: '' });\r\n  \r\n  const queryClient = useQueryClient();\r\n\r\n  // Obtener todos los estudiantes\r\n  const { data: studentsData, isLoading: loadingStudents } = useQuery(\r\n    'students-all',\r\n    () => studentService.getStudents({ limit: 1000 })\r\n  );\r\n\r\n  // Obtener usuarios con rol de padre de familia\r\n  const { data: parentsData, isLoading: loadingParents } = useQuery(\r\n    'parents',\r\n    () => userService.getUsers({ role: 'padrefamilia', limit: 1000 })\r\n  );\r\n\r\n  // Mutación para vincular padre con estudiante\r\n  const linkMutation = useMutation(\r\n    ({ studentId, parentUserId }) => \r\n      studentService.linkParentToStudent(studentId, parentUserId),\r\n    {\r\n      onSuccess: () => {\r\n        queryClient.invalidateQueries('students-all');\r\n        setShowLinkForm(false);\r\n        setSelectedStudent(null);\r\n        setSelectedParent(null);\r\n        setToast({\r\n          show: true,\r\n          type: 'success',\r\n          title: 'Vinculación exitosa',\r\n          message: 'El padre ha sido vinculado al estudiante correctamente'\r\n        });\r\n      },\r\n      onError: (error) => {\r\n        setToast({\r\n          show: true,\r\n          type: 'error',\r\n          title: 'Error al vincular',\r\n          message: error.response?.data?.error || 'No se pudo realizar la vinculación'\r\n        });\r\n      }\r\n    }\r\n  );\r\n\r\n  // Mutación para desvincular padre de estudiante\r\n  const unlinkMutation = useMutation(\r\n    (studentId) => studentService.unlinkParentFromStudent(studentId),\r\n    {\r\n      onSuccess: () => {\r\n        queryClient.invalidateQueries('students-all');\r\n        setToast({\r\n          show: true,\r\n          type: 'success',\r\n          title: 'Desvinculación exitosa',\r\n          message: 'El padre ha sido desvinculado del estudiante'\r\n        });\r\n      },\r\n      onError: (error) => {\r\n        setToast({\r\n          show: true,\r\n          type: 'error',\r\n          title: 'Error al desvincular',\r\n          message: error.response?.data?.error || 'No se pudo realizar la desvinculación'\r\n        });\r\n      }\r\n    }\r\n  );\r\n\r\n  const students = studentsData?.data || [];\r\n  const parents = parentsData?.data || [];\r\n\r\n  // Filtrar estudiantes según búsqueda\r\n  const filteredStudents = students.filter(student =>\r\n    `${student.firstName} ${student.lastName}`.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    student.documentNumber.includes(searchTerm)\r\n  );\r\n\r\n  const handleLink = () => {\r\n    if (selectedStudent && selectedParent) {\r\n      linkMutation.mutate({\r\n        studentId: selectedStudent.id,\r\n        parentUserId: selectedParent.id\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleUnlink = (studentId) => {\r\n    if (window.confirm('¿Está seguro de que desea desvincular este padre del estudiante?')) {\r\n      unlinkMutation.mutate(studentId);\r\n    }\r\n  };\r\n\r\n  if (loadingStudents || loadingParents) {\r\n    return <LoadingSpinner />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto space-y-6\">\r\n      {/* Encabezado */}\r\n      <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 shadow rounded-lg p-6 text-white\">\r\n        <div className=\"flex items-center space-x-3\">\r\n          <div className=\"bg-white bg-opacity-20 p-3 rounded-lg\">\r\n            <UserGroupIcon className=\"h-8 w-8\" />\r\n          </div>\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold\">Gestión de Relaciones Familiares</h1>\r\n            <p className=\"text-indigo-100\">Vincular padres de familia con sus hijos estudiantes</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Estadísticas rápidas */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n        <div className=\"bg-white rounded-lg shadow p-6\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0\">\r\n              <div className=\"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center\">\r\n                <UserGroupIcon className=\"h-5 w-5 text-blue-600\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Total Estudiantes</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">{students.length}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow p-6\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0\">\r\n              <div className=\"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center\">\r\n                <LinkIcon className=\"h-5 w-5 text-green-600\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Vinculados</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {students.filter(s => s.parentUserId).length}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow p-6\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0\">\r\n              <div className=\"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center\">\r\n                <UserGroupIcon className=\"h-5 w-5 text-purple-600\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Padres Registrados</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">{parents.length}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Barra de búsqueda y acciones */}\r\n      <div className=\"bg-white shadow rounded-lg p-6\">\r\n        <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0\">\r\n          <div className=\"relative\">\r\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n              <MagnifyingGlassIcon className=\"h-5 w-5 text-gray-400\" />\r\n            </div>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Buscar estudiante por nombre o documento...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500\"\r\n            />\r\n          </div>\r\n          \r\n          <button\r\n            onClick={() => setShowLinkForm(true)}\r\n            className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\r\n          >\r\n            <PlusIcon className=\"h-4 w-4 mr-2\" />\r\n            Nueva Vinculación\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Lista de estudiantes */}\r\n      <div className=\"bg-white shadow rounded-lg overflow-hidden\">\r\n        <div className=\"px-6 py-4 border-b border-gray-200\">\r\n          <h3 className=\"text-lg font-medium text-gray-900\">Estudiantes y sus Vinculaciones</h3>\r\n        </div>\r\n        \r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full divide-y divide-gray-200\">\r\n            <thead className=\"bg-gray-50\">\r\n              <tr>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Estudiante\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Curso\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Padre Vinculado\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Estado\r\n                </th>\r\n                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Acciones\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n              {filteredStudents.map((student) => (\r\n                <tr key={student.id} className=\"hover:bg-gray-50\">\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div>\r\n                      <div className=\"text-sm font-medium text-gray-900\">\r\n                        {student.firstName} {student.lastName}\r\n                      </div>\r\n                      <div className=\"text-sm text-gray-500\">\r\n                        {student.documentType}: {student.documentNumber}\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                    {student.course?.name || 'Sin curso asignado'}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    {student.parentUser ? (\r\n                      <div>\r\n                        <div className=\"text-sm font-medium text-gray-900\">\r\n                          {student.parentUser.name}\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-500\">\r\n                          {student.parentUser.email}\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      <span className=\"text-sm text-gray-400\">Sin vinculación</span>\r\n                    )}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    {student.parentUserId ? (\r\n                      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n                        <LinkIcon className=\"h-3 w-3 mr-1\" />\r\n                        Vinculado\r\n                      </span>\r\n                    ) : (\r\n                      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\r\n                        Sin vincular\r\n                      </span>\r\n                    )}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\r\n                    {student.parentUserId ? (\r\n                      <button\r\n                        onClick={() => handleUnlink(student.id)}\r\n                        className=\"text-red-600 hover:text-red-900\"\r\n                      >\r\n                        <XMarkIcon className=\"h-4 w-4\" />\r\n                      </button>\r\n                    ) : (\r\n                      <button\r\n                        onClick={() => {\r\n                          setSelectedStudent(student);\r\n                          setShowLinkForm(true);\r\n                        }}\r\n                        className=\"text-indigo-600 hover:text-indigo-900\"\r\n                      >\r\n                        <LinkIcon className=\"h-4 w-4\" />\r\n                      </button>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modal para nueva vinculación */}\r\n      {showLinkForm && (\r\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n          <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\r\n            <div className=\"mt-3\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-lg font-medium text-gray-900\">\r\n                  Nueva Vinculación Familiar\r\n                </h3>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowLinkForm(false);\r\n                    setSelectedStudent(null);\r\n                    setSelectedParent(null);\r\n                  }}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  <XMarkIcon className=\"h-5 w-5\" />\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"space-y-4\">\r\n                {/* Selector de estudiante */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Estudiante\r\n                  </label>\r\n                  <select\r\n                    value={selectedStudent?.id || ''}\r\n                    onChange={(e) => {\r\n                      const student = students.find(s => s.id === e.target.value);\r\n                      setSelectedStudent(student);\r\n                    }}\r\n                    className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n                  >\r\n                    <option value=\"\">Seleccionar estudiante</option>\r\n                    {students\r\n                      .filter(s => !s.parentUserId)\r\n                      .map(student => (\r\n                        <option key={student.id} value={student.id}>\r\n                          {student.firstName} {student.lastName} - {student.documentNumber}\r\n                        </option>\r\n                      ))}\r\n                  </select>\r\n                </div>\r\n\r\n                {/* Selector de padre */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Padre de Familia\r\n                  </label>\r\n                  <select\r\n                    value={selectedParent?.id || ''}\r\n                    onChange={(e) => {\r\n                      const parent = parents.find(p => p.id === e.target.value);\r\n                      setSelectedParent(parent);\r\n                    }}\r\n                    className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n                  >\r\n                    <option value=\"\">Seleccionar padre</option>\r\n                    {parents.map(parent => (\r\n                      <option key={parent.id} value={parent.id}>\r\n                        {parent.name} - {parent.email}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex justify-end space-x-3 mt-6\">\r\n                <button\r\n                  onClick={() => {\r\n                    setShowLinkForm(false);\r\n                    setSelectedStudent(null);\r\n                    setSelectedParent(null);\r\n                  }}\r\n                  className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200\"\r\n                >\r\n                  Cancelar\r\n                </button>\r\n                <button\r\n                  onClick={handleLink}\r\n                  disabled={!selectedStudent || !selectedParent || linkMutation.isLoading}\r\n                  className=\"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  {linkMutation.isLoading ? 'Vinculando...' : 'Vincular'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Toast de notificaciones */}\r\n      {toast.show && (\r\n        <Toast\r\n          type={toast.type}\r\n          title={toast.title}\r\n          message={toast.message}\r\n          onClose={() => setToast({ ...toast, show: false })}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FamilyLinksManager;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}